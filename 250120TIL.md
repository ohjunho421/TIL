## Class Based View (CBV) ê°œìš”

<aside>
í´ë˜ìŠ¤ ê¸°ë°˜ ë·°(CBV)ëŠ” Djangoì—ì„œ ë·°ë¥¼ êµ¬í˜„í•˜ëŠ” í˜„ëŒ€ì ì¸ ë°©ì‹ìœ¼ë¡œ, ì½”ë“œë¥¼ ë” ì²´ê³„ì ì´ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.

</aside>

### Class Based View ì£¼ìš” íŠ¹ì§•

- HTTP ë©”ì†Œë“œë³„ ì²˜ë¦¬ ë¶„ë¦¬
    - GET ìš”ì²­ â†’ `get()` ë©”ì†Œë“œì—ì„œ ì²˜ë¦¬
    - POST ìš”ì²­ â†’ `post()` ë©”ì†Œë“œì—ì„œ ì²˜ë¦¬
- ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
- ë‹¤ì–‘í•œ ë‚´ì¥ CBV ì œê³µ (`APIView` ê¸°ë°˜)

### Class Based View ì¢…ë¥˜

```mermaid
graph TD
    A[APIView] --> B[GenericAPIView]
    B --> C[ViewSets]
    B --> D[Mixins]
    D --> E[ListModelMixin]
    D --> F[CreateModelMixin]
```

- `APIView`
    - DRF CBVì˜ ê¸°ë³¸ í´ë˜ìŠ¤
    - HTTP ë©”ì†Œë“œ í•¸ë“¤ë§ì˜ ê¸°ì´ˆ ì œê³µ
- `GenericAPIView`
    - ì¼ë°˜ì ì¸ API ê°œë°œì— í•„ìš”í•œ ê¸°ë³¸ ê¸°ëŠ¥ í¬í•¨
    - CRUD ì‘ì—…ì„ ìœ„í•œ ë‚´ì¥ ê¸°ëŠ¥ ì œê³µ
- `Mixin`
    - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê¸°ëŠ¥ë“¤ì„ ëª¨ë“ˆí™”í•œ í´ë˜ìŠ¤
    - ì£¼ìš” Mixin í´ë˜ìŠ¤:
        - `ListModelMixin` - ëª©ë¡ ì¡°íšŒ
        - `CreateModelMixin` - ê°ì²´ ìƒì„±
- `ViewSets`
    - ì—¬ëŸ¬ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë‹¨ì¼ í´ë˜ìŠ¤ë¡œ ê´€ë¦¬
    - RESTful API êµ¬í˜„ ê°„ì†Œí™”

### ì‹¤ì œ êµ¬í˜„ ì˜ˆì‹œ

<aside>
**ArticleListAPIView êµ¬í˜„**

```python
from rest_framework.views import APIView

class ArticleListAPIView(APIView):
    def get(self, request):
        articles = Article.objects.all()
        serializer = ArticleSerializer(articles, many=True)
        return Response(serializer.data)

    def post(self, request):
        serializer = ArticleSerializer(data=request.data)
        if serializer.is_valid(raise_exception=True):
            serializer.save()
            return Response(serializer.data, status=status.HTTP_201_CREATED)
```

</aside>

<aside>
**URLs ì„¤ì •**

```python
from django.urls import path
from . import views

app_name = "articles"
urlpatterns = [
    path("", views.ArticleListAPIView.as_view(), name="article_list"),
    path("<int:pk>/", views.ArticleDetailAPIView.as_view(), name="article_detail"),
]
```

</aside>

<aside>
**ğŸ’¡ CBV vs FBV ì‚¬ìš© ê°€ì´ë“œ**

- CBVì™€ FBVëŠ” ìƒí™©ì— ë”°ë¼ ì„ íƒì  ì‚¬ìš©
- CBV: ë³µì¡í•œ CRUD ì‘ì—…, ì¬ì‚¬ìš©ì„±ì´ í•„ìš”í•œ ê²½ìš°
- FBV: ê°„ë‹¨í•œ ë¡œì§, ì»¤ìŠ¤í…€ ë¡œì§ì´ ë§ì€ ê²½ìš°
</aside>