- Django CRUDì¤‘ RUD
    
    **redirect ì‚¬ìš©í•˜ê¸°**
    
    - redirectëŠ” ì§€ì •í•œ URLë¡œ ë˜ëŒë¦¬ëŠ” ê²ƒì„ ë§í•©ë‹ˆë‹¤.
    - ìš°ë¦¬ê°€ ì›¹ ì‚¬ì´íŠ¸ë¥¼ ì´ìš©í•˜ë©´ì„œ ë§ì´ ë´ì™”ë˜ ë™ì‘ ë°©ì‹ì…ë‹ˆë‹¤.
    - **(ê¸€ ëª©ë¡í˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰ì…˜)articles/views.py**
        
        ```python
        from django.shortcuts import render, redirect
        
        ...
        
        def create(request):
          title = request.POST.get("title")
          content = request.POST.get("content")
          article = Article(title=title, content=content)
          article.save()
          return redirect("articles")
        ```
        
        <aside>
        ğŸ’¡ **PRG íŒ¨í„´**
        POSTìš”ì²­ì„ ì„œë²„ì—ì„œ ì²˜ë¦¬í•˜ê³  ì„œë²„ì—ì„œëŠ” ë‹¤ë¥¸ ì£¼ì†Œë¡œ Redirectí•˜ë„ë¡ ì‘ë‹µí•˜ê³  ë¸Œë¼ìš°ì €ëŠ” GETë°©ì‹ìœ¼ë¡œ ì„œë²„ë¥¼ í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©ìì˜ ìš”ì²­ì´ ë°˜ì˜ëœ ê²ƒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
         ê²Œì‹œê¸€ ì‘ì„±í›„ ì œì¶œ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ í™”ë©´ì´ ì´ë™ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì œì¶œ ë²„íŠ¼ì„ ì—¬ëŸ¬ë²ˆ ëˆ„ë¥¼ ìˆ˜ê°€ ìˆê² ì£ ? ê·¸ëŸ¬ë©´ ì¤‘ë³µëœ ê²Œì‹œê¸€ì´ ì‘ì„±ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
        **PRG**íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ ë°˜ë³µì ì¸ POSTí˜¸ì¶œì„ ë§‰ì„ ìˆ˜ ìˆê³  ì‚¬ìš©ìì˜ ì…ì¥ì—ì„œë„ ì²˜ë¦¬ê°€ ëë‚˜ê³  ì²˜ìŒ ë‹¨ê³„ë¡œ ëŒì•„ê°„ë‹¤ëŠ” ëŠë‚Œì„ ì£¼ê²Œ ë©ë‹ˆë‹¤.
        
        </aside>
        
    
    ### **ìƒì„¸í˜ì´ì§€ ì¡°íšŒí•˜ê¸°**
    
    ì§€ê¸ˆê¹Œì§€ ìš°ë¦¬ê°€ ì„¤ê³„í•œ URLêµ¬ì¡°ëŠ” ì´ë ‡ìŠµë‹ˆë‹¤.
    
    - `/articles/` â†’ ì „ì²´ ê¸€ ëª©ë¡ í˜ì´ì§€
    - `/articles/new/` â†’ ê¸€ ì‘ì„± í˜ì´ì§€
    - `/articles/create/` â†’ ì‹¤ì œ ê¸€ ì¶”ê°€ ë¡œì§
    
    â†’ ë­”ê°€ í—ˆì „í•˜ì§€ ì•Šìœ¼ì‹ ê°€ìš”? ê²Œì‹œê¸€ì„ ìƒì„±í–ˆë‹¤ë©´?? ê²Œì‹œê¸€ì„ í´ë¦­í•´ì„œ ì½ì–´ë³¼ ìˆ˜ë„ ìˆì–´ì•¼ê² ì£ ? â˜ï¸
    
    â†’  ë§ìŠµë‹ˆë‹¤! ê¸€ ìƒì„¸í˜ì´ì§€ë¥¼ ìœ„í•œ URLì„ ì¶”ê°€í•´ë´…ì‹œë‹¤!
    
    **êµ¬í˜„í•˜ê¸°**
    
    - **[ì½”ë“œìŠ¤ë‹ˆí«] (detail) articles/urls.py**
        
        ```python
        from django.urls import path
        from . import views
        
        urlpatterns = [
            path("", views.articles, name="articles"),
            **path("<int:pk>/", views.article_detail, name="article_detail"),**
            path("new/", views.new, name="new"),
            path("create/", views.create, name="create"),
            ...
        ]
        ```
        
    - **[ì½”ë“œìŠ¤ë‹ˆí«] (detail) articles/views.py**
        
        ```python
        def article_detail(request, pk):
          article = Article.objects.get(pk=pk)
          context = {
              "article": article,
          }
          return render(request, "article_detail.html", context)
        ```
        
    - **[ì½”ë“œìŠ¤ë‹ˆí«] articles/templates/article_detail.html**
        
        ```python
        {% extends "base.html" %}
        
        {% block content %}
        
            <h2>ê¸€ ìƒì„¸ í˜ì´ì§€</h2>
            <p>ì œëª©: {{ article.title }}</p>
            <p>ë‚´ìš©: {{ article.content }}</p>
            <p>ì‘ì„±ì¼ì‹œ: {{ article.created_at }}</p>
            <p>ìˆ˜ì •ì¼ì‹œ: {{ article.updated_at }}</p>
        
            <a href="{% url 'articles' %}">ëª©ë¡ ë³´ê¸°</a>
        
        {% endblock content %}
        ```
        
    
    **ì¶”ê°€ ì‘ì—…**
    
    - ì ì´ë ‡ê²Œ í•´ì„œ ìƒì„¸í˜ì´ì§€ë„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
    - ì €í¬ëŠ” ë¦¬ë‹¤ì´ë ‰íŠ¸ë„ ë°°ì› ê³  ê²Œì‹œê¸€ ìƒì„¸í˜ì´ì§€URLë„ ì„¤ê³„í–ˆìœ¼ë‹ˆ ê²Œì‹œê¸€ ì‘ì„±í›„ ìƒì„¸í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ì‹œí‚¤ëŠ” ê±¸ êµ¬í˜„í•´ë´…ì‹œë‹¤.
        - **[ì½”ë“œìŠ¤ë‹ˆí«] (ê¸€ ìƒì„¸ í˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰ì…˜) articles/views.py**
            
            ```python
            def create(request):
            	title = request.POST.get("title")
            	content = request.POST.get("content")
            	article = Article(title=title, content=content)
            	article.save()
              return redirect("article_detail", article.id)
            ```
            
    
    **í¸ì˜ì„± ì—…ë°ì´íŠ¸**
    
    - í”„ë¡œì íŠ¸ í¸ì˜ì„± ì—…ë°ì´íŠ¸ë¥¼ í•´ë³¼ê¹Œìš”?
    - í”„ë¡œì íŠ¸ì—ì„œ ë¶ˆí¸í•œ ì ì„ ì°¾ì•„ë´…ì‹œë‹¤.
        1. ìƒˆë¡œìš´ ê¸€ì„ ì‘ì„±í•˜ë ¤ë©´ ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ì— `/new/`ê²½ë¡œë¥¼ ì…ë ¥í•´ì„œ ì‘ì„±í•´ì•¼ëœë‹¤. 
        2. ê²Œì‹œê¸€ ì‘ì„±í˜ì´ì§€ì—ì„œ ê²Œì‹œê¸€ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” ë§í¬ê°€ ìˆìœ¼ë©´ ì¢‹ê² ë‹¤.
        3. ë³¸ë¬¸ì´ ë°”ë¡œ ë³´ì¸ë‹¤.(ì§€ê¸ˆì€ ë³¸ë¬¸ì´ ì§§ì§€ë§Œ ë³¸ë¬¸ì´ 500ì¤„, 1000ì¤„ ì •ë„ ë˜ë©´ ë‹¤ë¥¸ ê²Œì‹œë¬¼ì„ ë³´ê¸°ê°€ í˜ë“¤ ê²ƒ ê°™ë„¤ìš” ğŸ˜®â€ğŸ’¨)
        - **[ì½”ë“œìŠ¤ë‹ˆí«] articles/articles.html**
            
            ```python
            {% extends "base.html" %}
            
            {% block content %}
                <h1>Articles</h1>
                **<a href="{% url 'new' %}">ìƒˆ ê¸€ ì‘ì„±</a>**
            
                <ul>
                    {% for article in articles %}
                        <li>
                            **<a href="{% url 'article_detail' article.id %}">
                                <div>[{{ article.id }}] {{ article.title }}</div>
                            </a>**
                            <br>
                        </li>
                    {% endfor %}
                </ul>
            
            {% endblock content %}
            ```
            
        - **[ì½”ë“œìŠ¤ë‹ˆí«] (ê²Œì‹œê¸€ ëª©ë¡ ë§í¬)articles/new.html**
            
            ```python
            <a href="{% url 'articles' %}">ëª©ë¡ìœ¼ë¡œ</a>
            ```
            
    
    **ê¸€ ì‚­ì œí•˜ê¸°**
    
    - êµ¬í˜„
        1. ê¸€ ì‚­ì œ ë¡œì§ì„ ì§„í–‰í•˜ëŠ” url ë§Œë“¤ê¸°
        2. ê¸€ ì‚­ì œí•˜ëŠ” view ë§Œë“¤ê¸°
            1. ì‚­ì œí•˜ê³ ì í•˜ëŠ” ê¸€ ê°€ì ¸ì˜¤ê¸°
            2. ê¸€ ì‚­ì œ
            3. ì‚­ì œí•œë‹¤ìŒ ì´ë™í• ê³³ìœ¼ë¡œ redirect
        3. ê¸€ ì‚­ì œ ë²„íŠ¼ ë§Œë“¤ì–´ì£¼ê¸°
    - **(delete)articles/urls.py**
        
        ```python
        path("<int:pk>/delete/", views.delete, name="delete"),
        ```
        
    - **(delete)articles/views.py**
        
        ```python
        def delete(request, pk):
          article = Article.objects.get(pk=pk)
          article.delete()
          return redirect("articles")
        ```
        
    
    **ì‚­ì œ ë²„íŠ¼ ë§Œë“¤ê¸°**
    
    - ì‚­ì œë¼ëŠ” ê²ƒë„ ê²°êµ­ì—ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°ì‘í•˜ëŠ” ìš”ì²­ !
    - ë”°ë¼ì„œ
        
        â†’ POST ë°©ì‹ìœ¼ë¡œ ìš”ì²­í•´ì•¼í•¨
        
        â†’ form ì‚¬ìš©
        
    - **(delete)articles/detail.html**
        
        ```python
        {% extends "base.html" %}
        
        {% block content %}
        
            <h2>ê¸€ ìƒì„¸ í˜ì´ì§€</h2>
            <p>ì œëª©: {{ article.title }}</p>
            <p>ë‚´ìš©: {{ article.content }}</p>
            <p>ì‘ì„±ì¼ì‹œ: {{ article.created_at }}</p>
            <p>ìˆ˜ì •ì¼ì‹œ: {{ article.updated_at }}</p>
        
            <a href="{% url 'articles' %}"><button>ëª©ë¡ ë³´ê¸°</button></a>
        
            <hr>
            <form action="{% url 'delete' article.pk %}" method="POST">
                {% csrf_token %}
                <input type="submit" value="ê¸€ì‚­ì œ">
            </form>
        
        {% endblock content %}
        ```
        
    
    <aside>
    ğŸ’¡
    
    `127.0.0.1:8000/articles/3/delete/` ë¥¼ ì§ì ‘ ì…ë ¥í•´ì„œ ë“¤ì–´ê°€ë©´ 
    
    â†’ ì‚­.ì œ.ëœ.ë‹¤
    
    ìš”ì²­ë°©ì‹ì´ POSTì¸ ê²½ìš°ë§Œ ì‚­ì œí•˜ë„ë¡ ìˆ˜ì •
    
    - **(POSTì¸ ê²½ìš°ì—ë§Œ ì‚­ì œ)articles/views.py**
        
        ```python
        def delete(request, pk):
          article = Article.objects.get(pk=pk)
          if request.method == "POST":
              article.delete()
              return redirect("articles")
          return redirect("article_detail", article.pk)
        ```
        
    </aside>
    
    **ê¸€ ìˆ˜ì •í•˜ê¸°**
    
    url ë§Œë“¤ê¸°
    
    1. ìˆ˜ì •í•  ê¸€ì„ ë³´ì—¬ì£¼ëŠ” url
    2. ê¸€ ìˆ˜ì •ì„ ì²˜ë¦¬í•  url
    3. ê¸€ ìˆ˜ì •í•˜ëŠ” ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” view ë§Œë“¤ê¸°
        1. ìˆ˜ì •í•  ê¸€ì„ ë³´ì—¬ì£¼ëŠ” view
        2. ê¸€ ìˆ˜ì •ì„ ì²˜ë¦¬í•˜ëŠ” view
    4. ê¸€ ìˆ˜ì •ì„ ìˆ˜í–‰í•˜ëŠ” template ë§Œë“¤ê¸°
    5. ê¸€ ìˆ˜ì • ë²„íŠ¼ ë§Œë“¤ê¸°
    
    **í•´ë³´ê³  ëˆŒëŸ¬ë³´ì‹œë©´ ì—­ì‹œ ì¢‹ê² ì£  !**
    
    <aside>
    ğŸ’¡ ì „ì²´ íë¦„
    
    1. ê¸€ ìˆ˜ì •í•˜ëŠ” url ë§Œë“¤ê¸°
        1. ìˆ˜ì •í•  ê¸€ì„ ë³´ì—¬ì£¼ëŠ” url (`articles/<pk>/edit/`)
        2. ê¸€ ìˆ˜ì •ì„ ì²˜ë¦¬í•  url(`articles/<pk>/update/`)
    2. ê¸€ ìˆ˜ì •í•˜ëŠ” ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” view ë§Œë“¤ê¸°
        1. ìˆ˜ì •í•  ê¸€ì„ ë³´ì—¬ì£¼ëŠ” view (`edit view`)
        2. ê¸€ ìˆ˜ì •ì„ ì²˜ë¦¬í•˜ëŠ” view (`update view`)
    3. ê¸€ ìˆ˜ì •ì„ ìˆ˜í–‰í•˜ëŠ” template ë§Œë“¤ê¸° (`edit.html`)
    4. ê¸€ ìˆ˜ì • ë²„íŠ¼ ë§Œë“¤ê¸° â†’ detail í˜ì´ì§€ì— ë§Œë“¤ì–´ì£¼ê¸°
    - **(edit) articles/urls.py**
        
        ```python
        path("<int:pk>/edit", views.edit, name="edit"),
        ```
        
    - **(edit) articles/views.py**
        
        ```python
        ...
        def edit(request, pk):
        	article = Article.objects.get(pk=pk)
        	context = {
        	    "article": article,
        	}
        	return render(request, "edit.html", context)
        ...
        ```
        
    - **articles/templates/edit.html**
        
        ```python
        {% extends "base.html" %}
        
        {% block content %}
        <h1>Update Article</h1>
        
        <form action="{% url 'update' article.pk %}" method="POST">
        	  {% csrf_token %}
            <label for="title">ì œëª©</label>
            <input type="text" name="title" id="title" value={{ article.title }}><br><br>
        
            <label for="content">ë‚´ìš©</label>
            <textarea name="content" id="content" cols="30" rows="10">{{ article.content }}</textarea><br><br>
        
            <button type="submit">ì €ì¥</button>
        </form>
        
        {% endblock content %}
        
        ```
        
    - **(update) articles/urls.py**
        
        ```python
        path("<int:pk>/update/", views.update, name="update"),
        ```
        
    - **(update) articles/views.py**
        
        ```python
        ...
        def update(request, pk):
          article = Article.objects.get(pk=pk)
          article.title = request.POST.get("title")
          article.content = request.POST.get("content")
          article.save()
          return redirect("article_detail", article.pk)
        ...
        ```
        
    - **(update) detail.html**
    
    ```python
    <a href="{% url 'edit' article.pk %}"><button>ê¸€ìˆ˜ì •</button></a>
    ```