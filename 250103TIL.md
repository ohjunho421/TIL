## SQL μ½”λ“μΉ΄νƒ€ ν•™μµ

### 1. λ„¤λΉ„κ²μ΄μ… μµμ…μ΄ μλ” μ°¨λ‰ μ΅°ν

```sql
SELECT CAR_ID,CAR_TYPE,DAILY_FEE,OPTIONS
from CAR_RENTAL_COMPANY_CAR
where options like '%λ„¤λΉ„κ²μ΄μ…%'
order by car_id desc
```

### 2. CASEλ¬Έμ„ ν™μ©ν• μƒν’ μƒνƒ ν‘μ‹

```sql
SELECT BOARD_ID,WRITER_ID,TITLE,PRICE,
CASE WHEN STATUS='sale' THEN 'νλ§¤μ¤‘'
WHEN STATUS='reserved' then 'μμ•½μ¤‘'
else 'κ±°λμ™„λ£'end AS STATUS
FROM USED_GOODS_BOARD
where created_date = '2022-10-05'
order by board_id desc
```

### 3. μ΅°μΈμ„ ν™μ©ν• μμ•½ μ •λ³΄ μ΅°ν

```sql
SELECT a.APNT_NO, p.PT_NAME,p.PT_NO,d.MCDP_CD,d.DR_NAME,a.APNT_YMD
from appointment a
join doctor d on a.MDDR_ID = d.DR_ID
join patient p on a.PT_NO = p.PT_NO
where a.APNT_YMD like '2022-04-13%' 
and a.APNT_CNCL_YN = 'N' 
and d.MCDP_CD = 'CS'
order by a.APNT_YMD
```

### 4. CASEλ¬Έμ„ ν™μ©ν• λ€μ—¬ μƒνƒ ν™•μΈ

```sql
SELECT CAR_ID,
case
when max('2022-10-16' between start_date and end_date)=1 
then 'λ€μ—¬μ¤‘' else 'λ€μ—¬ κ°€λ¥'
end as AVAILABILITY
from CAR_RENTAL_COMPANY_RENTAL_HISTORY
group by car_id
order by car_id desc
```

<aside>

**π”‘ μ£Όμ” ν•™μµ ν¬μΈνΈ**

- CASE λ¬Έμ λ‹¤μ–‘ν• ν™μ© λ°©λ²• ν•™μµ
- JOINμ„ ν†µν• ν…μ΄λΈ” μ—°κ²° μ‹¤μµ
- λ‚ μ§ λ°μ΄ν„° μ²λ¦¬ λ°©λ²• ν•™μµ
</aside>

---

## Django ν”„λ μ„μ›ν¬ κµ¬μ΅°

<aside>

**π“ μ£Όμ” νμΌ κµ¬μ΅°**

[`admin.py`](http://admin.py) - κ΄€λ¦¬μμ© νμ΄μ§€ κ΄€λ ¨ μ„¤μ •

[`apps.py`](http://apps.py) - μ•± κ΄€λ ¨ μ •λ³΄ μ„¤μ •

[`models.py`](http://models.py) - DBκ΄€λ ¨ λ°μ΄ν„° μ •μ νμΌ

[`tests.py`](http://tests.py) - ν…μ¤νΈ κ΄€λ ¨ νμΌ

[`views.py`](http://views.py) - μ”μ²­μ„ μ²λ¦¬ν•κ³  μ²λ¦¬ν• κ²°κ³Όλ¥Ό λ°ν™ν•λ” νμΌ

</aside>

### **Django λ””μμΈ ν¨ν„΄ (MTV)**

```mermaid
graph TD
    A[Client Request] --> B[View]
    B --> C[Model]
    B --> D[Template]
    C --> B
    D --> E[Client Response]
```

### MVC vs MTV λΉ„κµ

| MVC | MTV | μ—­ν•  |
| --- | --- | --- |
| Model | Model | λ°μ΄ν„° κ΄€λ¦¬ |
| View | Template | ν™”λ©΄ ν‘μ‹ |
| Controller | View | λ΅μ§ μ²λ¦¬ |

<aside>

**π’΅ MTV ν¨ν„΄μ μ¥μ **

- κ΄€μ‹¬μ‚¬ λ¶„λ¦¬λ¥Ό ν†µν• μ½”λ“ κµ¬μ΅°ν™”
- κ°λ° μƒμ‚°μ„± ν–¥μƒ λ° μ μ§€λ³΄μ μ©μ΄
- ν€ ν‘μ—… ν¨μ¨μ„± μ¦κ°€
</aside>

### **κ° μ»΄ν¬λ„νΈ μƒμ„Έ μ„¤λ…**

- **Model**
    - λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ μ •μ
    - λ°μ΄ν„° μ²λ¦¬ λ° κ΄€λ¦¬
- **Template**
    - μ‚¬μ©μ μΈν„°νμ΄μ¤ κµ¬ν„
    - λ™μ  HTML μƒμ„±
- **View**
    - HTTP μ”μ²­ μ²λ¦¬
    - λΉ„μ¦λ‹μ¤ λ΅μ§ κµ¬ν„
    - Modelκ³Ό Template μ—°λ™